<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Loppem Conversa</title>

    <!-- CSS Libraries -->
    <!-- Bootstrap Core CSS -->
    <link href="libs/bootstrap-3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="libs/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="css/jquery-ui.min.css" rel="stylesheet" /> 
    <link href="css/bootstrap-datepicker3.css" rel="stylesheet"/>
    <link href="css/loppem-conversa.css" rel="stylesheet">
    <link href="css/gallery.css" rel="stylesheet">
    <!--Uncompatible with translation: <link href="css/bootstrap-select.css" rel="stylesheet"> -->

    <link href="css/inscription-style.css" rel="stylesheet">

    <link rel="stylesheet" href="css/fancybox.min.css" media="screen">
</head>

<body>
    <div id="navigation"></div>

    <div style="margin-top: 75px" class="container">

        <div class="row">
            <div class="col-lg-12">
                <h1 id="page_title" class="page-header"></h1>
            </div>
        </div>

        <div class="col-md-12">
            <div class="panel panel-default">
                <h2 id="protection_title" class="panel-heading"></h2>
                <p id="protection_text" class="panel-body"></p>
            </div>
        </div>      
        <div class="col-md-12">
            <div class="panel panel-default">
                <h2 id="offre_title" class="panel-heading">Stagekeuze</h2>
                <div id="imgChoice" class="panel-body">
                    <label for="imgChoiceLabel" class="control-label col-sm-2 col-xs-12 alignLeftXs" id="imgChoiceLabel"></label>
                    <div class="col-sm-10 col-xs-12 alignLeftXs">
                        <div id="divImgChoiceBtns" class="btn-group" role="group" aria-label="imgChoiceLabel">
                            <button type="button" class="btn btn-group btn-default active" value="general" id="img_choice_general"></button>
                            <button type="button" class="btn btn-group btn-default" value="july2018" id="img_choice_july_2018"></button>
                            <button type="button" class="btn btn-group btn-default" value="august2018" id="img_choice_august_2018"></button>                            
                            <button type="button" class="btn btn-group btn-default" value="july2017" id="img_choice_july_2017"></button>
                            <button type="button" class="btn btn-group btn-default" value="august2017" id="img_choice_august_2017"></button>
                        </div>   
                        <input type="hidden" name="imgChoiceInput" id="imgChoiceInput" />                         
                    </div>
                </div>
                <form class="form-horizontal" name="passForm" id="passForm" validate>
                    <div id="password" class="panel-body">
                        <label for="passLabel" class="control-label col-sm-2 col-xs-12 alignLeftXs" id="passLabel"></label>
                        <div class="col-sm-3 col-xs-12 alignLeftXs">
                            <input type="password" class="form-control" id="passInput" name="passInput">
                            <span class="glyphicon form-control-feedback" id="passInput1"></span>
                        </div>
                        <div class="col-sm-2 button text-center">
                            <button style="font-style: bold; font-size: 14px; color: #000; background-color: #f5a034; border-color: #2e6da4;" type="submit" class="btn btn-inscription" id="show_button"></button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    	   <div id="grid"><div class="grid-sizer"></div></div>
        <div id="pagination" style="clear: both;" class="pagination"></div>


<div class="grid">

  <div class="grid-sizer"></div>
  <div class="grid-item">
    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/orange-tree.jpg" />
  </div>
  <div class="grid-item">
    
  </div>
  <div class="grid-item">
    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/look-out.jpg" />
  </div>
  <div class="grid-item">
    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/one-world-trade.jpg" />
  </div>
  <div class="grid-item">
    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/drizzle.jpg" />
  </div>
  <div class="grid-item">
    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/cat-nose.jpg" />
  </div>
  <div class="grid-item">
    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/contrail.jpg" />
  </div>
  <div class="grid-item">
    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/golden-hour.jpg" />
  </div>
  <div class="grid-item">
    <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/flight-formation.jpg" />
  </div>
</div>




		
		<footer>
			<div class="row footer">
				<div class="col-lg-12">
					<p style="text-align: center;" id="footer"></p>                
				</div>
			</div>
		</footer>
	</div>
    
    <!-- jQuery -->
    <script src="js/jquery.min.js"></script>
    <script src="js/masonry.pkgd.js"></script>
    <script src="js/imagesloaded.pkgd.js"></script>

    <script src="js/jQuery/jquery.validate.min.js"></script> 

    <!-- Bootstrap Core-->
    <script src="js/bootstrap.min.js"></script>    

    <script src="js/bootstrap-select.js"></script>
    <script src="js/bootstrap.js"></script>    
    <script src="js/bootstrap.min.js"></script>

    <!-- Validation scripts -->
    <!-- <script src="js/jqBootstrapValidation.js"></script> -->
    <script src="js/inscriptionValidation.js"></script>

    <script src="js/i18next/i18next.js"></script>

	<script src="js/fancybox/fancybox.min.js"></script>

    <script type="text/javascript">
        // external js: masonry.pkgd.js, imagesloaded.pkgd.js

        // init Masonry
        var $grid = $('.grid').masonry({
          itemSelector: '.grid-item',
          percentPosition: true,
          columnWidth: '.grid-sizer'
        });
        // layout Masonry after each image loads
        $grid.imagesLoaded().progress( function() {
          $grid.masonry();
        });  
    </script>

    <script type="text/javascript">
	    function setDefaultLng() {
	        if(window.localStorage.getItem("langChoice") === null || window.localStorage.getItem("langChoice") === ""){
	            console.log('empty');
	            window.localStorage.setItem("langChoice", 'FR');
	        }
	    }
    </script>	
    
    <script type="text/javascript">
        $(function(){
            $("#navigation").load("navigation.html", function(){
                
                if(window.localStorage.getItem("langChoice") == "NL"){
                    document.getElementById('langId').innerHTML = "FR";
                } else {
                    document.getElementById('langId').innerHTML = "NL";
                }
                $(".home").removeClass("active");
                $(".information").removeClass("active");
                $(".inscription").removeClass("active");
                $(".rules").removeClass("active");
                $(".pictures").addClass("active");
                $(".contact").removeClass("active");
                $(".faq").removeClass("active");
                $(".navbar").addClass("navbar-fixed-top");

                setDefaultLng(); 

                i18next.init({
                  lng: window.localStorage.getItem("langChoice"),
                  debug: true,
                  resources: {
                    NL: {
                        translation: {
                            "home_nav" : "Home",
                            "information_nav" : "Informatie",
                            "inscription_nav" : "Inschrijven",
                            "rules_nav" : "Voorwaarden <b class=\"caret\"></b>",
                            "rules_stage_nav" : "Cursusreglement", 
                            "privacy_nav" : "Privacy voorwaarden",
                            "photo_nav" : "Foto's",
                            "contact_nav" : "Contact",
                            "faq_nav" : "FAQ",
                            "protection_title" : "Beveiliging",
                            "protection_text" : "Tijdens de activiteiten worden heel wat foto’s genomen. U kan deze foto’s raadplegen met behulp van een paswoord, verkregen via mail. Ga discreet om met dit paswoord. De foto's zijn niet downloadbaar. Als u toch een mooie foto in JPG-formaat wil, kan u ons hier altijd voor mailen. Ook als u het paswoord kwijt bent of bij andere problemen met de foto's mag u gerust mailen naar info@loppemconversa.be.",
                            "imgChoiceLabel" : "Selecteer stage:", 
                            "img_choice_general" : "Algemeen", 
                            "img_choice_july_2018" : "Juli 2018", 
                            "img_choice_august_2018" : "Augustus 2018", 
                            "img_choice_july_2017" : "Juli 2017", 
                            "img_choice_august_2017" : "Augustus 2017", 
                            "passLabel" : "Paswoord:", 
                            "show_button" : "Toon foto's", 
                            "footer" : "Loppem Conversa BVBA - Christine D'haenstraat 18/101 - 8000 Brugge<br>gsm 0478 51 93 44 - www.loppemconversa.be - info@loppemconversa.be <br>RPR Brugge BTW BE 0830.437.586 - rekening BNP Paribas Fortis BE36 0016 2215 8581 <br />&copy; 2010-2018 Loppem Conversa"
                        }
                    }, 
                    FR: {
                        translation: {
                            "home_nav" : "Home",
                            "information_nav" : "Information",
                            "inscription_nav" : "Inscrire",
                            "rules_nav" : "Conditions <b class=\"caret\"></b>",
                            "rules_stage_nav" : "Règlement du stage", 
                            "privacy_nav" : "Déclaration de confidentialité",
                            "photo_nav" : "Photos",
                            "contact_nav" : "Contact",
                            "faq_nav" : "FAQ",
                            "protection_title" : "Beveiliging",
                            "protection_text" : "Tijdens de activiteiten worden heel wat foto’s genomen. U kan deze foto’s raadplegen met behulp van een paswoord, verkregen via mail. Ga discreet om met dit paswoord. De foto's zijn niet downloadbaar. Als u toch een mooie foto in JPG-formaat wil, kan u ons hier altijd voor mailen. Ook als u het paswoord kwijt bent of bij andere problemen met de foto's mag u gerust mailen naar info@loppemconversa.be.",
                            "imgChoiceLabel" : "", 
                            "img_choice_general" : "", 
                            "img_choice_july_2018" : "", 
                            "img_choice_august_2018" : "", 
                            "img_choice_july_2017" : "", 
                            "img_choice_august_2017" : "",
                            "passLabel" : "", 
                            "show_button" : "", 
                            "footer" : "Loppem Conversa BVBA - Christine D'haenstraat 18/101 - 8000 Brugge<br>gsm 0478 51 93 44 - www.loppemconversa.be - info@loppemconversa.be <br>RPR Brugge BTW BE 0830.437.586 - rekening BNP Paribas Fortis BE36 0016 2215 8581 <br />&copy; 2010-2018 Loppem Conversa"
                        }
                    }
                }
            },  function(err, t) {
                  updateContent();
                });
            });
        });   

        function updateContent() {
            document.getElementById('home_nav').innerHTML = i18next.t('home_nav');
            document.getElementById('information_nav').innerHTML = i18next.t('information_nav');
            document.getElementById('inscription_nav').innerHTML = i18next.t('inscription_nav');
            document.getElementById('rules_nav').innerHTML = i18next.t('rules_nav');
            document.getElementById('rules_stage_nav').innerHTML = i18next.t('rules_stage_nav');         
            document.getElementById('privacy_nav').innerHTML = i18next.t('privacy_nav');             
            document.getElementById('photo_nav').innerHTML = i18next.t('photo_nav');
            document.getElementById('contact_nav').innerHTML = i18next.t('contact_nav');
            document.getElementById('faq_nav').innerHTML = i18next.t('faq_nav');
            document.getElementById('protection_title').innerHTML = i18next.t('protection_title');
            document.getElementById('protection_text').innerHTML = i18next.t('protection_text');
            document.getElementById('imgChoiceLabel').innerHTML = i18next.t('imgChoiceLabel');            
            document.getElementById('img_choice_general').innerHTML = i18next.t('img_choice_general');
            document.getElementById('img_choice_july_2018').innerHTML = i18next.t('img_choice_july_2018');
            document.getElementById('img_choice_august_2018').innerHTML = i18next.t('img_choice_august_2018');
            document.getElementById('img_choice_july_2017').innerHTML = i18next.t('img_choice_july_2017');
            document.getElementById('img_choice_august_2017').innerHTML = i18next.t('img_choice_august_2017');
            document.getElementById('passLabel').innerHTML = i18next.t('passLabel');
            document.getElementById('show_button').innerHTML = i18next.t('show_button');            

            document.getElementById('footer').innerHTML = i18next.t('footer');
        }

            function changeLng(lng) {
              i18next.changeLanguage(lng);
            }

            function changeLng() {
                var lang = window.localStorage.getItem("langChoice");
                if(lang === "NL"){
                    document.getElementById('langId').innerHTML = 'NL';
                    window.localStorage.setItem("langChoice", 'FR');
                    i18next.changeLanguage('FR');
                } else {
                    document.getElementById('langId').innerHTML = 'FR';
                    window.localStorage.setItem("langChoice", 'NL');
                    i18next.changeLanguage('NL')
                }
            }

            i18next.on('languageChanged', function() {
              updateContent();
            });

    </script>       
    <script type="text/javascript">
    	$(document).ready(function(){
            $(".fancybox").fancybox({
                openEffect: "elastic",
                closeEffect : 'elastic',
                beforeShow: function () {
                    /* Disable right click */
                    $.fancybox.wrap.bind("contextmenu", function (e) {
                        return false;
                    });
                    /* Disable drag */
                    $.fancybox.wrap.bind("dragstart", function (e) {
                        return false;
                    });
                }
            });
        });
    </script> 

    <script type="text/javascript">
    	function changeDivContent(directory, page){
            var divContent = "";
            var folder = "images/gallery/".concat(directory).concat("/");
            console.log("changeDivContent".concat(folder));
            var picturesPerPage = 20;
            var minIndexPicture = (page * picturesPerPage) - picturesPerPage;
            var maxIndexPicture = (page * picturesPerPage);

            $.ajax({
                url : folder,
                success: function (data) {
                    var total = 0;
                    $(data).find("a").attr("href", function (i, val) {
                        if( val.match(/\.(jpg)$/) ) {
                            total++;
                        }
                    });

                    var pictureIndex = 0;
                    $(data).find("a").attr("href", function (i, val) {
                        if( val.match(/\.(jpg)$/) ) { 
                            if(pictureIndex >= minIndexPicture && pictureIndex < maxIndexPicture){
                                var imgLocation = folder.concat(val);
                                var divInit = "<div class='grid-item'>";
                                var linkInit = "<a class=\"thumbnail fancybox\" ";
                                var linkRel = "rel=\"ligthbox\" ";      
                                var linkHref = "href=\"".concat(imgLocation).concat("\"");   
                                var linkClose = ">";
                                /*<img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/82/submerged.jpg" />*/
                                var img = "<img src=\"".concat(imgLocation).concat("\"/>");
                                var caption = "<div class='text-right'><small class='text-muted'>Image Title</small></div></a>";
                                var divEnd = "</div>";
                                divContent += divInit.concat(linkInit).concat(linkRel).concat(linkHref).concat(linkClose).concat(img).concat(caption).concat(divEnd);     
                                document.getElementById("content").innerHTML = divContent;
                            }
                            pictureIndex++;
                        }
                    });
                    createPages(total/picturesPerPage, directory);
                },
            error: function(req) {
                console.log('Error: ' + req.status);
            }
            });    		
    	}

    	// changeDivContent();
    </script>

    <script type="text/javascript">
        var defaultSelection = "general";
        $('#imgChoiceInput').val(defaultSelection);
        $('#password').hide();

        $('#divImgChoiceBtns').on('click', '.btn', function () {
            $('#imgChoiceInput').val($(this).val());
            $('#password').show();
        });

        changeDivContent($('#imgChoiceInput').val(), 1);

        $("#passForm").submit(function(e) {
            e.preventDefault();
            if( $("#passInput").val() === "paterleon"){
                changeDivContent($('#imgChoiceInput').val(), 1);
                
                $('img').bind("contextmenu", function(e){
                    return false;
                });
            }
        });

    </script>

<!-- <ul class="pagination">
  <li><a href="#">1</a></li>
  <li class="active"><a href="#">2</a></li>
  <li><a href="#">3</a></li>
  <li><a href="#">4</a></li>
  <li><a href="#">5</a></li>
</ul> -->

    <script type="text/javascript">
        function createPages(amountOfPages, directory){
            var initUL = "<div style=\"clear: both\"> <ul class=\"pagination\">";
            var allListItems = "";
            for(var page = 1; page <= amountOfPages; page++){
                var listItem = "<li><a onclick=\"changeDivContent(\'" + directory + "\', " + page + ") \" href=\"javascript:void(0)\">".concat(page).concat("</a></li>");
                allListItems = allListItems.concat(listItem);
            }
            var endUL = "</ul> </div>";
            var result = initUL.concat(allListItems).concat(endUL);
            document.getElementById("pagination").innerHTML = result;     
        }
    </script>
</body>
</html>